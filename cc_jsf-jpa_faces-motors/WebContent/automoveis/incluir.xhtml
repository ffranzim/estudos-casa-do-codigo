<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head></h:head>
<body>
	<h:form id="formAutomovel">
		Todas as mensagens:<br />
		<h:messages />
		<hr />
		Apenas mensagens globais:<br />
		<h:messages globalOnly="true" />
		<hr />
		<h:panelGrid columns="2">

			<h:outputLabel value="Marca:" />
			<h:selectOneMenu label="marca" value="#{automovelBean.marca}" required="true" converter="entityConverter">
				<f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
				<f:selectItems value="#{marcaBean.marcas}" var="marca" itemValue="#{marca}" itemLabel="#{marca.nome}" />
				<f:ajax render="selectModelo" />
			</h:selectOneMenu>

			<h:outputLabel value="Modelo:" />
			<h:selectOneMenu id="selectModelo" label="modelo" value="#{automovelBean.automovel.modelo}" required="true" converter="entityConverter">
				<f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
				<f:selectItems value="#{automovelBean.marca.modelos}" var="modelo" itemValue="#{modelo}" itemLabel="#{modelo.nome}" />
			</h:selectOneMenu>

			<h:outputLabel value="Ano de Fabricação:" />
			<h:inputText value="#{automovelBean.automovel.anoFabricacao}" />

			<h:outputLabel value="Ano do Modelo:" />
			<h:inputText value="#{automovelBean.automovel.anoModelo}" />

			<h:outputLabel value="Preço:" />
			<h:inputText value="#{automovelBean.automovel.preco}" />

			<h:outputLabel value="Kilometragem:" />
			<h:inputText value="#{automovelBean.automovel.kilometragem}" />

			<h:outputLabel value="Observações:" />
			<h:inputTextarea value="#{automovelBean.automovel.observacoes}" />
		</h:panelGrid>
		<h:commandButton value="Salvar" action="#{automovelBean.salvar(auto)}" />
	</h:form>

</body>
</html>
